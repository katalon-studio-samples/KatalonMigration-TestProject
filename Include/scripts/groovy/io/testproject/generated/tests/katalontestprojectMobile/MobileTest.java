package io.testproject.generated.tests.katalontestprojectMobile;

import java.util.concurrent.TimeUnit;

import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.params.ParameterizedTest;
import org.junit.jupiter.params.provider.MethodSource;
import org.openqa.selenium.By;
import org.testng.annotations.AfterClass;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;

import com.kms.katalon.core.configuration.RunConfiguration;
import com.kms.katalon.core.mobile.keyword.MobileBuiltInKeywords;
import com.kms.katalon.core.mobile.keyword.internal.MobileDriverFactory;

import io.appium.java_client.AppiumDriver;



/**
 * This class was automatically generated by TestProject
 * Project: Katalon Test Project
 * Test: Mobile Test
 * Generated by: Mohit Kumar (mohit.kumar@katalon.com)
 * Generated on Mon Dec 05 07:36:25 GMT 2022.
 */
@DisplayName("Mobile Test")
public class MobileTest {
	public static AppiumDriver driver;
  

  @BeforeClass
  static void setup() throws Exception {
	  
	  String dirName = RunConfiguration.getProjectDir();
	  System.out.println("Project Directory is : "+dirName);

	  //MobileBuiltInKeywords.startApplication("bs:\\", false);
	  MobileBuiltInKeywords.startApplication(dirName+"/App/APIDemos.apk", false);
	  driver = MobileDriverFactory.getDriver();
    //driver = new AndroidDriver<>("sy3SYOrye3r2ILGiQeEGJ8tdZiAKiSgaF_h1WvPRBjY", getCapabilities(), "Mohit Kumar");
  }

  /**
   * In order to upload the test to TestProject need to un-comment @ArgumentsSource and set in comment the @MethodSource
   * @org.junit.jupiter.params.provider.ArgumentsSource(io.testproject.sdk.interfaces.parameterization.TestProjectParameterizer.class) */
  @DisplayName("Mobile Test")
  @ParameterizedTest
  @MethodSource("provideParameters")
  @Test
  void execute() throws Exception {
    // set timeout for driver actions (similar to step timeout)
    driver.manage().timeouts().implicitlyWait(15000, TimeUnit.MILLISECONDS);
    By by;
    boolean booleanResult;

    // 1. Reset App
    //    Clear application data and restart (Auto-generated)
    System.out.println("*********Test*******");
   
    GeneratedUtils.sleep(500);
    //driver.resetApp();

    // 2. Click 'API Demos'
    GeneratedUtils.sleep(500);
    by = By.xpath("//android.widget.TextView[@text = 'API Demos']");
    driver.findElement(by).click();

    // 3. Click 'App'
    GeneratedUtils.sleep(500);
    by = By.xpath("//android.widget.TextView[@text = 'App']");
    driver.findElement(by).click();

    // 4. Click 'Activity'
    GeneratedUtils.sleep(500);
    by = By.xpath("//android.widget.TextView[@text = 'Activity']");
    driver.findElement(by).click();

    // 5. Click 'Presentation'
    GeneratedUtils.sleep(500);
    by = By.xpath("//android.widget.TextView[@text = 'Presentation']");
    driver.findElement(by).click();

    // 6. Click 'Show all displays'
    GeneratedUtils.sleep(500);
    by = By.id("com.touchboarder.android.api.demos:id/show_all_displays");
    driver.findElement(by).click();

    // 7. Click 'com.touchboarder.android.api.demos:id...'
    GeneratedUtils.sleep(500);
    by = By.id("com.touchboarder.android.api.demos:id/checkbox_presentation");
    driver.findElement(by).click();

  }


  @AfterClass
  static void tearDown() {
    if (driver != null) {
      driver.quit();
    }
  }

}
